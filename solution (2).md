## [multi-read] Атомарное чтение из `n` ячеек

Покажите, что атомарное чтение сразу из `n` ячеек (вместе с обычными операциями чтения/записи одной ячейки) имеет число консенсуса 1.

## Решение:

Попытаемся решить задачу для двух потоков. Будем писать бинарное дерево исполнения программ. Строится оно следующим образом: идем влево если исполняется инструкция первого потока и вправо, если исполняется инструкция второго потока, в листах записываем результат `decide`.

Рассмотрим некоторую критическую вершину. Пусть после правой операции все ветки приходят в единицу, а после левой все ветки приходят в ноль. `multi-read` не изменяет значения в регистре, а его результат виден только левому потоку, правое поддерево рассмотренной критической вершины и правое поддерево левого потока одинаковы. Тем самым получено противоречие, что изначально рассмотренная вершина является критической, так как у критической вершины любой путь из детей ведёт либо в 0, либо в 1, причём эти занчания должны быть различны для правых и левых поддеревьев.

Так как число консенсуса для операции определяется как максимальное число потоков, для которого можно решить задачу консенсуса, используя только атомарные чтения/записи и данную операцию, и мы привели пример, при котором нельзя достич консенсуса для двух потоков, то получаем, что число консенсуса равно 1.
